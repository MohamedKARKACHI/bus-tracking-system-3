#!/bin/bash

# START_INSTRUCTIONS.md - Quick Reference

echo "
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                            â•‘
â•‘        ğŸšŒ BUS TRACKING SYSTEM - CHECK-IN/OUT REDESIGN COMPLETE ğŸšŒ        â•‘
â•‘                                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ WHAT'S NEW:

  âœ… Redesigned Check-in/Out page with modern UI
  âœ… START SERVICE button (green gradient) - click once to start everything
  âœ… One-command startup: ./start-all.sh or npm run dev:all
  âœ… Real-time license plate detection and logging
  âœ… Automatic database persistence
  âœ… Beautiful activity feed with statistics
  âœ… Moroccan license plate format support
  âœ… Mobile-responsive design

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ QUICK START (3 Easy Steps):

  Step 1: Open Terminal
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  cd /Users/apple/Downloads/bus-tracking-system-3

  Step 2: Start Everything
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ./start-all.sh
  
  OR
  
  npm run dev:all

  Step 3: Open Browser
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  http://localhost:3000/checkin-checkout

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“± USING THE PAGE:

  1. See the page with:
     â€¢ GREEN \"Start Service\" button (top-right)
     â€¢ \"AI Online\" badge (green if ANPR running)
     â€¢ Statistics: \"In Today: X\" and \"Out Today: Y\"

  2. CLICK THE \"START SERVICE\" BUTTON
     â€¢ Browser asks for camera permission
     â€¢ Click \"Allow\"
     â€¢ Camera feed activates (you'll see live video)

  3. CAPTURE PLATE:
     â€¢ Click \"ğŸ“¸ Capture Entry\" (green button) when vehicle enters
     â€¢ Click \"ğŸ“¸ Capture Exit\" (blue button) when vehicle exits
     â€¢ Or click \"ğŸ“¤ Upload Image\" to select a photo of a plate

  4. WATCH IT WORK:
     â€¢ Plate detected in 1-2 seconds
     â€¢ Detection appears in \"Recent Activity\" (right side)
     â€¢ Statistics counter updates
     â€¢ Event saved to database automatically

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”§ SERVICE URLS:

  Frontend:              http://localhost:3000
  Check-in/Out Page:     http://localhost:3000/checkin-checkout
  ANPR Service:          http://localhost:8001
  API Endpoint:          http://localhost:3000/api/gate-events

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š TEST THE API:

  List all gate events:
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  curl http://localhost:3000/api/gate-events

  Create manual event:
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  curl -X POST http://localhost:3000/api/gate-events \\
    -H 'Content-Type: application/json' \\
    -d '{
      \"plate\": \"13456 | Ø£ | 27\",
      \"event_type\": \"check_in\",
      \"confidence\": 0.95
    }'

  Check ANPR health:
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  curl http://localhost:8001/health

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ BUTTON REFERENCE:

  START SERVICE (Green)
  â”œâ”€ Location: Top-right corner of page
  â”œâ”€ Click: Activates camera & detection
  â”œâ”€ Changes to: RED \"STOP SERVICE\" when active
  â””â”€ Disabled if: AI service is offline

  CAPTURE ENTRY (Green)
  â”œâ”€ Location: Bottom-left control bar
  â”œâ”€ Click: Captures frame and detects plate as CHECK-IN
  â””â”€ Enabled if: Camera is active and AI online

  CAPTURE EXIT (Blue)
  â”œâ”€ Location: Bottom-left control bar
  â”œâ”€ Click: Captures frame and detects plate as CHECK-OUT
  â””â”€ Enabled if: Camera is active and AI online

  UPLOAD IMAGE (Purple)
  â”œâ”€ Location: Bottom-left control bar
  â”œâ”€ Click: Open file picker to select photo
  â””â”€ Enabled if: ANPR service is online

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ TROUBLESHOOTING:

  Problem: \"AI Offline\" badge
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Solution: Start ANPR service
            cd anpr-service && ./run.sh

  Problem: \"Camera is Offline\" message
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Solution: 1. Click \"Enable Feed\"
            2. Allow camera in browser
            3. Or upload image instead

  Problem: \"Port 3000 already in use\"
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Solution: ./start-all.sh (handles cleanup)
            OR manually: pkill -f \"next dev\"

  Problem: No plate detected
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Solution: â€¢ Better lighting
            â€¢ Clear view of plate
            â€¢ Closer to camera
            â€¢ Try upload instead

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š DOCUMENTATION:

  README_CHECKIN_OUT.md          â† START HERE
  â”œâ”€ Complete overview
  â”œâ”€ Architecture
  â””â”€ Feature list

  CHECKIN_CHECKOUT_GUIDE.md      â† User manual
  â”œâ”€ Step-by-step guide
  â”œâ”€ API endpoints
  â””â”€ Troubleshooting

  IMPLEMENTATION_SUMMARY.md      â† Technical
  â”œâ”€ What was changed
  â”œâ”€ Code structure
  â””â”€ File listing

  UI_VISUAL_GUIDE.md             â† Visual reference
  â”œâ”€ Page layout
  â”œâ”€ Button states
  â””â”€ Screenshot descriptions

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¨ PAGE FEATURES:

  Start Service Button:    One-click activation (green â†’ red)
  AI Status Badge:         Real-time online/offline indicator
  Statistics Display:      Live counters for check-in/out
  Camera Feed:             Live video with scanner overlay
  Activity Log:            Color-coded detection history
  Moroccan Format:         Proper plate display with MA flag
  Responsive Design:       Works on desktop and mobile
  Dark Mode:              Automatic detection + toggle

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ—‚ï¸ FILES CREATED/MODIFIED:

  Created:
  â”œâ”€ start-all.sh                 One-command startup
  â”œâ”€ README_CHECKIN_OUT.md        This guide
  â”œâ”€ CHECKIN_CHECKOUT_GUIDE.md    Detailed user guide
  â”œâ”€ IMPLEMENTATION_SUMMARY.md    Technical documentation
  â””â”€ UI_VISUAL_GUIDE.md           Visual reference

  Modified:
  â”œâ”€ package.json                 Added npm scripts
  â”œâ”€ frontend/package.json        Fixed port to 3000
  â”œâ”€ frontend/app/checkin-checkout/page.tsx   COMPLETE REDESIGN
  â””â”€ (Previous work preserved)    API, migrations, etc.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ¨ WHAT YOU GET:

  âœ… Modern, beautiful UI
  âœ… One-click service startup
  âœ… Real-time plate detection
  âœ… Automatic database persistence
  âœ… Live statistics and activity logging
  âœ… Mobile-responsive design
  âœ… Professional production-ready code
  âœ… Complete documentation
  âœ… Error handling and troubleshooting
  âœ… API endpoints for integration

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¬ QUICK DEMO:

  1. ./start-all.sh
  2. Open http://localhost:3000/checkin-checkout
  3. Click the green \"START SERVICE\" button
  4. Allow camera permissions
  5. Click \"ğŸ“¸ Capture Entry\"
  6. See plate detection in Recent Activity
  7. Watch \"In Today\" counter increment
  8. Repeat for more detections
  9. Check database: curl http://localhost:3000/api/gate-events

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‰ YOU'RE READY TO GO!

  Run this command:
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  cd /Users/apple/Downloads/bus-tracking-system-3 && ./start-all.sh

  Then open:
  â”€â”€â”€â”€â”€â”€â”€â”€â”€

  http://localhost:3000/checkin-checkout

  Click:
  â”€â”€â”€â”€â”€â”€

  ğŸŸ¢ START SERVICE

  Done! The system is live and ready to detect real license plates!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Have fun! ğŸšŒ Your check-in/out system is now production-ready!

Questions? Check the documentation files or review the code comments.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

"
